import{am as t,an as n}from"./index-mRQw7ASy.js";class l{static async fetchVideos(a="desc",e=1,s=null,r=null){const i=await t.get("/videos",{params:{order:a,page:e,ids:s,...(r==null?void 0:r.major_genres)&&{major_genres:r.major_genres},...(r==null?void 0:r.from_date)&&{from_date:r.from_date},...(r==null?void 0:r.to_date)&&{to_date:r.to_date}},paramsSerializer:{indexes:null}});return i.type==="error"?(t.showGenericError(i,"録画番組一覧を取得できませんでした。"),null):i.data}static async searchVideos(a,e="desc",s=1){const r=await t.get("/videos/search",{params:{query:a,order:e,page:s}});return r.type==="error"?(t.showGenericError(r,"録画番組の検索に失敗しました。"),null):r.data}static async fetchVideo(a){const e=await t.get(`/videos/${a}`);return e.type==="error"?(t.showGenericError(e,"録画番組情報を取得できませんでした。"),null):e.data}static async fetchVideoJikkyoComments(a){const e=await t.get(`/videos/${a}/jikkyo`);return e.type==="error"?(t.showGenericError(e,"過去ログコメントを取得できませんでした。"),{is_success:!1,comments:[],detail:"過去ログコメントを取得できませんでした。"}):(e.data.comments=e.data.comments.filter(s=>n.isMutedComment(s.text,s.author,s.color,s.type,s.size)===!1),e.data)}static async reanalyzeVideo(a){const e=await t.post(`/videos/${a}/reanalyze`,void 0,{timeout:6e5});if(e.type==="error"){switch(e.data.detail){default:t.showGenericError(e,"メタデータの再解析に失敗しました。");break}return!1}return!0}static async regenerateThumbnail(a,e=!1){const s=await t.post(`/videos/${a}/thumbnail/regenerate`,void 0,{params:{skip_tile_if_exists:e?"true":"false"},timeout:18e5});if(s.type==="error"){switch(s.data.detail){default:t.showGenericError(s,"サムネイルの再作成に失敗しました。");break}return!1}return!0}static async deleteVideo(a){const e=await t.delete(`/videos/${a}`);if(e.type==="error"){switch(e.data.detail){default:t.showGenericError(e,"録画ファイルの削除に失敗しました。");break}return!1}return!0}static async fetchVideoTimetable(a){const e=await t.get("/fork/video/timetable",{params:{search_date:a}});return e.type==="error"?(t.showGenericError(e,"番組表データを取得できませんでした。"),null):e.data}}export{l as F};
