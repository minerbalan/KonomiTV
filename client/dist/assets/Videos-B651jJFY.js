import{am as t,an as s}from"./index-mRQw7ASy.js";const d={id:-1,status:"Recorded",file_path:"",file_hash:"",file_size:0,file_created_at:"2000-01-01T00:00:00+09:00",file_modified_at:"2000-01-01T00:00:00+09:00",recording_start_time:null,recording_end_time:null,duration:0,container_format:"MPEG-TS",video_codec:"MPEG-2",video_codec_profile:"High",video_scan_type:"Interlaced",video_frame_rate:29.97,video_resolution_width:1440,video_resolution_height:1080,primary_audio_codec:"AAC-LC",primary_audio_channel:"Stereo",primary_audio_sampling_rate:48e3,secondary_audio_codec:null,secondary_audio_channel:null,secondary_audio_sampling_rate:null,has_key_frames:!1,cm_sections:null,created_at:"2000-01-01T00:00:00+09:00",updated_at:"2000-01-01T00:00:00+09:00"},_={id:-1,recorded_video:d,recording_start_margin:0,recording_end_margin:0,is_partially_recorded:!1,channel:null,network_id:null,service_id:null,event_id:null,series_id:null,series_broadcast_period_id:null,title:"取得中…",series_title:null,episode_number:null,subtitle:null,description:"取得中…",detail:{},start_time:"2000-01-01T00:00:00+09:00",end_time:"2000-01-01T00:00:00+09:00",duration:0,is_free:!0,genres:[],primary_audio_type:"2/0モード(ステレオ)",primary_audio_language:"日本語",secondary_audio_type:null,secondary_audio_language:null,created_at:"2000-01-01T00:00:00+09:00",updated_at:"2000-01-01T00:00:00+09:00"};class u{static async fetchVideos(a="desc",e=1,i=null,r=null){const n=await t.get("/videos",{params:{order:a,page:e,ids:i,...(r==null?void 0:r.major_genres)&&{major_genres:r.major_genres},...(r==null?void 0:r.from_date)&&{from_date:r.from_date},...(r==null?void 0:r.to_date)&&{to_date:r.to_date}},paramsSerializer:{indexes:null}});return n.type==="error"?(t.showGenericError(n,"録画番組一覧を取得できませんでした。"),null):n.data}static async searchVideos(a,e="desc",i=1){const r=await t.get("/videos/search",{params:{query:a,order:e,page:i}});return r.type==="error"?(t.showGenericError(r,"録画番組の検索に失敗しました。"),null):r.data}static async fetchVideo(a){const e=await t.get(`/videos/${a}`);return e.type==="error"?(t.showGenericError(e,"録画番組情報を取得できませんでした。"),null):e.data}static async fetchVideoJikkyoComments(a){const e=await t.get(`/videos/${a}/jikkyo`);return e.type==="error"?(t.showGenericError(e,"過去ログコメントを取得できませんでした。"),{is_success:!1,comments:[],detail:"過去ログコメントを取得できませんでした。"}):(e.data.comments=e.data.comments.filter(i=>s.isMutedComment(i.text,i.author,i.color,i.type,i.size)===!1),e.data)}static async reanalyzeVideo(a){const e=await t.post(`/videos/${a}/reanalyze`,void 0,{timeout:6e5});if(e.type==="error"){switch(e.data.detail){default:t.showGenericError(e,"メタデータの再解析に失敗しました。");break}return!1}return!0}static async regenerateThumbnail(a,e=!1){const i=await t.post(`/videos/${a}/thumbnail/regenerate`,void 0,{params:{skip_tile_if_exists:e?"true":"false"},timeout:18e5});if(i.type==="error"){switch(i.data.detail){default:t.showGenericError(i,"サムネイルの再作成に失敗しました。");break}return!1}return!0}static async deleteVideo(a){const e=await t.delete(`/videos/${a}`);if(e.type==="error"){switch(e.data.detail){default:t.showGenericError(e,"録画ファイルの削除に失敗しました。");break}return!1}return!0}}export{_ as I,u as V};
