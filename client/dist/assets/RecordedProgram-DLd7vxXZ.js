import{_ as A,c as m,b as e,F as T,g as q,n as O,t as u,a as r,h as l,w as V,v as se,aG as ie,o as a,d as N,q as z,s as G,k as F,r as W,e as M,B as w,U as S,P as L,ar as re,R as P,u as le,E as J,l as b,f as ae,p as x,j as de,a1 as ne,V as K,M as k,y as ue}from"./index-BF1wtGUm.js";import{V as X}from"./VDialog-DxQqDTzu.js";import{V as Z,a as ee,b as me,c as ce}from"./VCard-DgcsCcF8.js";import{V as oe}from"./ssrBoot-Cvg94IZz.js";import{V as E}from"./Videos-B97PF58P.js";import{c as _e,a as D,b as H,d as pe}from"./VSelect-rSbKDuZ_.js";import{b as ve}from"./VTextField-MfRLvUpL.js";const ge={name:"ForkResponsiveSelect",props:{modelValue:{type:[String,null],default:null},options:{type:Array,required:!0,validator:p=>p.every(i=>typeof i=="object"&&"value"in i&&"label"in i)},placeholder:{type:String,default:"選択してください"}},data(){return{isOpen:!1,_docClickHandler:null}},computed:{selectedLabel(){const p=this.options.find(i=>i.value===this.modelValue);return p?p.label:null}},watch:{options:{handler(){(this.modelValue===null||this.modelValue===void 0)&&this.options&&this.options.length>0&&this.$emit("update:modelValue",this.options[0].value)},deep:!0}},methods:{selectOption(p){this.$emit("update:modelValue",p),this.isOpen=!1},toggleDropdown(){this.isOpen=!this.isOpen},closeDropdown(){this.isOpen=!1},sizeClass(p){const i=(p||"").length;return i<=3?"size-xs":i<=6?"size-sm":i<=10?"size-md":"size-lg"}},mounted(){(this.modelValue===null||this.modelValue===void 0)&&this.options&&this.options.length>0&&this.$emit("update:modelValue",this.options[0].value),this._docClickHandler=p=>{this.$el.contains(p.target)||this.closeDropdown()},document.addEventListener("click",this._docClickHandler)},beforeUnmount(){this._docClickHandler&&(document.removeEventListener("click",this._docClickHandler),this._docClickHandler=null)}},fe={class:"responsive-select"},he={class:"desktop-layout"},ye=["onClick"],be={class:"mobile-layout"},we={class:"selected-text"},ke={class:"dropdown-menu"},$e=["onClick"];function Ve(p,i,s,g,f,_){return a(),m("div",fe,[e("div",he,[(a(!0),m(T,null,q(s.options,d=>(a(),m("button",{key:d.value,class:O(["select-button",_.sizeClass(d.label),{active:s.modelValue===d.value}]),onClick:R=>_.selectOption(d.value)},u(d.label),11,ye))),128))]),e("div",be,[e("button",{class:O(["dropdown-trigger",{open:f.isOpen}]),onClick:i[0]||(i[0]=(...d)=>_.toggleDropdown&&_.toggleDropdown(...d))},[e("span",we,u(_.selectedLabel||s.placeholder),1),i[1]||(i[1]=e("svg",{class:"dropdown-icon",viewBox:"0 0 24 24"},[e("path",{d:"M7 10l5 5 5-5z"})],-1))],2),r(ie,{name:"dropdown"},{default:l(()=>[V(e("ul",ke,[(a(!0),m(T,null,q(s.options,d=>(a(),m("li",{key:d.value,class:O(["dropdown-item",{selected:s.modelValue===d.value}]),onClick:R=>_.selectOption(d.value)},u(d.label),11,$e))),128))],512),[[se,f.isOpen]])]),_:1})])])}const Q=A(ge,[["render",Ve],["__scopeId","data-v-4cacaf11"]]),Ce={class:"video-choice"},Me={class:"filters"},Se=N({name:"ForkVideoChoice",__name:"ForkVideoChoice",props:{customSearch:{default:()=>({})}},emits:["update:customSearch","change"],setup(p,{emit:i}){const s=["日","月","火","水","木","金","土"],g=p,f=i,_=z(null),d=z(null),R=[{value:null,label:"全て"},{value:"ニュース・報道",label:"ニュース・報道"},{value:"スポーツ",label:"スポーツ"},{value:"情報・ワイドショー",label:"情報・ワイドショー"},{value:"ドラマ",label:"ドラマ"},{value:"音楽",label:"音楽"},{value:"バラエティ",label:"バラエティ"},{value:"映画",label:"映画"},{value:"アニメ・特撮",label:"アニメ・特撮"},{value:"ドキュメンタリー・教養",label:"ドキュメンタリー・教養"},{value:"劇場・公演",label:"劇場・公演"},{value:"趣味・教育",label:"趣味・教育"},{value:"福祉",label:"福祉"},{value:"その他",label:"その他"}];function U(){const c=[{value:null,label:"全て"}];for(let n=0;n<=7;n++){const t=new Date;t.setHours(0,0,0,0),t.setDate(t.getDate()-n);const o=t.getFullYear(),v=String(t.getMonth()+1).padStart(2,"0"),C=String(t.getDate()).padStart(2,"0"),$=s[t.getDay()],y=`${v}/${C}(${$})`,te=`${o}-${v}-${C}`;c.push({value:te,label:y})}return c.push({value:"older",label:"それ以前"}),c}const h=z(U());function Y(){var o,v,C;_.value=((o=g.customSearch)==null?void 0:o.major_genres)??null;const c=h.value.map($=>$.value),n=(v=g.customSearch)==null?void 0:v.from_date,t=(C=g.customSearch)==null?void 0:C.to_date;if(!n&&!t){d.value=null;return}if(n&&t&&n===t&&c.includes(t)){d.value=t;return}if(!n&&t){d.value="older";return}d.value="older"}function B(){const c={};if(_.value&&(c.major_genres=_.value),d.value)if(d.value==="older"){const n=new Date;n.setHours(0,0,0,0),n.setDate(n.getDate()-8);const t=n.getFullYear(),o=String(n.getMonth()+1).padStart(2,"0"),v=String(n.getDate()).padStart(2,"0");c.to_date=`${t}-${o}-${v}`}else c.from_date=d.value,c.to_date=d.value;return c}function j(c,n){return(c.major_genres??null)===(n.major_genres??null)&&(c.from_date??null)===(n.from_date??null)&&(c.to_date??null)===(n.to_date??null)}const I=z(!1);return G(()=>g.customSearch,()=>{Y(),I.value||(I.value=!0)},{deep:!0,immediate:!0}),G([_,d],()=>{if(!I.value)return;const c=B();j(c,g.customSearch??{})||f("update:customSearch",c),f("change",{genre:_.value,date:d.value})}),(c,n)=>(a(),m("div",Ce,[e("div",Me,[r(Q,{modelValue:_.value,"onUpdate:modelValue":n[0]||(n[0]=t=>_.value=t),options:R,placeholder:"ジャンル"},null,8,["modelValue"]),r(Q,{modelValue:d.value,"onUpdate:modelValue":n[1]||(n[1]=t=>d.value=t),options:h.value,placeholder:"日付"},null,8,["modelValue","options"])])]))}}),jo=A(Se,[["__scopeId","data-v-77e4d40f"]]),xe={class:"px-5 pb-6"},De={class:"text-subtitle-1 d-flex align-center font-weight-bold mt-2"},He={class:"video-info__item"},ze={class:"video-info__item-value"},Re={class:"video-info__item"},Be={class:"video-info__item-value"},Ie={class:"video-info__item"},Fe={class:"video-info__item-value"},Le={class:"video-info__item"},Pe={class:"video-info__item-value"},Oe={class:"text-subtitle-1 d-flex align-center font-weight-bold mt-3"},Te={class:"video-info__item"},Ue={class:"video-info__item-value"},je={class:"video-info__item"},Ae={class:"video-info__item-value"},Ye={class:"video-info__item"},Ee={class:"video-info__item-value"},We={class:"video-info__item"},Ne={class:"video-info__item-value"},qe={class:"text-subtitle-1 d-flex align-center font-weight-bold mt-3"},Ge={class:"video-info__item"},Je={class:"video-info__item-value"},Ke={class:"video-info__item"},Qe={class:"video-info__item-value"},Xe={class:"video-info__item"},Ze={class:"video-info__item-value"},eo={key:0,class:"text-subtitle-1 d-flex align-center font-weight-bold mt-3"},oo={class:"video-info__item"},to={class:"video-info__item-value"},so={class:"video-info__item"},io={class:"video-info__item-value"},ro={class:"video-info__item"},lo={class:"video-info__item-value"},ao=N({__name:"RecordedFileInfoDialog",props:{program:{},show:{type:Boolean}},emits:["update:show"],setup(p){return(i,s)=>{const g=W("Icon");return a(),F(X,{"max-width":"770",transition:"slide-y-transition","model-value":i.show,"onUpdate:modelValue":s[1]||(s[1]=f=>i.$emit("update:show",f))},{default:l(()=>[r(Z,{class:"video-info"},{default:l(()=>[r(ee,{class:"px-5 pt-6 pb-3 d-flex align-center font-weight-bold",style:{height:"60px"}},{default:l(()=>[r(g,{icon:"fluent:document-20-filled",height:"26px"}),s[2]||(s[2]=e("span",{class:"ml-3"},"録画ファイル情報",-1)),r(oe),V((a(),m("div",{class:"d-flex align-center rounded-circle cursor-pointer px-2 py-2",onClick:s[0]||(s[0]=f=>i.$emit("update:show",!1))},[r(g,{icon:"fluent:dismiss-12-filled",width:"23px",height:"23px"})])),[[P]])]),_:1,__:[2]}),e("div",xe,[e("div",De,[r(g,{icon:"fluent:video-clip-20-filled",width:"24px",height:"20px"}),s[3]||(s[3]=e("span",{class:"ml-2"},"ファイル情報",-1))]),e("div",He,[s[4]||(s[4]=e("div",{class:"video-info__item-label"},"ファイルパス",-1)),e("div",ze,u(i.program.recorded_video.file_path),1)]),e("div",Re,[s[5]||(s[5]=e("div",{class:"video-info__item-label"},"ファイルサイズ",-1)),e("div",Be,u(w(S).formatBytes(i.program.recorded_video.file_size)),1)]),e("div",Ie,[s[6]||(s[6]=e("div",{class:"video-info__item-label"},"録画期間",-1)),e("div",Fe,u(w(L).getRecordingTime(i.program)),1)]),e("div",Le,[s[7]||(s[7]=e("div",{class:"video-info__item-label"},"最終更新日時",-1)),e("div",Pe,u(w(S).apply28HourClock(w(re)(i.program.recorded_video.file_modified_at).format("YYYY/MM/DD (dd) HH:mm:ss"))),1)]),e("div",Oe,[r(g,{icon:"fluent:video-20-filled",width:"24px",height:"20px"}),s[8]||(s[8]=e("span",{class:"ml-2"},"映像情報",-1))]),e("div",Te,[s[9]||(s[9]=e("div",{class:"video-info__item-label"},"コーデック",-1)),e("div",Ue,u(i.program.recorded_video.video_codec)+" ("+u(i.program.recorded_video.video_codec_profile)+")",1)]),e("div",je,[s[10]||(s[10]=e("div",{class:"video-info__item-label"},"解像度",-1)),e("div",Ae,u(i.program.recorded_video.video_resolution_width)+"×"+u(i.program.recorded_video.video_resolution_height),1)]),e("div",Ye,[s[11]||(s[11]=e("div",{class:"video-info__item-label"},"フレームレート",-1)),e("div",Ee,u(i.program.recorded_video.video_frame_rate)+" fps",1)]),e("div",We,[s[12]||(s[12]=e("div",{class:"video-info__item-label"},"スキャン方式",-1)),e("div",Ne,u(i.program.recorded_video.video_scan_type),1)]),e("div",qe,[r(g,{icon:"fluent:speaker-2-20-filled",width:"24px",height:"20px"}),s[13]||(s[13]=e("span",{class:"ml-2"},"音声情報（主音声）",-1))]),e("div",Ge,[s[14]||(s[14]=e("div",{class:"video-info__item-label"},"コーデック",-1)),e("div",Je,u(i.program.recorded_video.primary_audio_codec),1)]),e("div",Ke,[s[15]||(s[15]=e("div",{class:"video-info__item-label"},"チャンネル",-1)),e("div",Qe,u(i.program.recorded_video.primary_audio_channel),1)]),e("div",Xe,[s[16]||(s[16]=e("div",{class:"video-info__item-label"},"サンプリングレート",-1)),e("div",Ze,u(i.program.recorded_video.primary_audio_sampling_rate?`${i.program.recorded_video.primary_audio_sampling_rate/1e3}kHz`:"不明"),1)]),i.program.recorded_video.secondary_audio_codec?(a(),m("div",eo,[r(g,{icon:"fluent:speaker-2-20-filled",width:"24px",height:"20px"}),s[17]||(s[17]=e("span",{class:"ml-2"},"音声情報（副音声）",-1))])):M("",!0),i.program.recorded_video.secondary_audio_codec?(a(),m(T,{key:1},[e("div",oo,[s[18]||(s[18]=e("div",{class:"video-info__item-label"},"コーデック",-1)),e("div",to,u(i.program.recorded_video.secondary_audio_codec),1)]),e("div",so,[s[19]||(s[19]=e("div",{class:"video-info__item-label"},"チャンネル",-1)),e("div",io,u(i.program.recorded_video.secondary_audio_channel),1)]),e("div",ro,[s[20]||(s[20]=e("div",{class:"video-info__item-label"},"サンプリングレート",-1)),e("div",lo,u(i.program.recorded_video.secondary_audio_sampling_rate?`${i.program.recorded_video.secondary_audio_sampling_rate/1e3}kHz`:"不明"),1)])],64)):M("",!0)])]),_:1})]),_:1},8,["model-value"])}}}),no=A(ao,[["__scopeId","data-v-904f7233"]]),uo={class:"recorded-program__container"},mo={class:"recorded-program__thumbnail"},co=["src"],_o={class:"recorded-program__thumbnail-duration"},po={key:0,class:"recorded-program__thumbnail-cm"},vo={key:1,class:"recorded-program__thumbnail-status recorded-program__thumbnail-status--recording"},go={key:2,class:"recorded-program__thumbnail-status recorded-program__thumbnail-status--analyzing"},fo={key:3,class:"recorded-program__thumbnail-status recorded-program__thumbnail-status--partial"},ho={key:4,class:"recorded-program__thumbnail-progress"},yo={class:"recorded-program__content"},bo=["innerHTML"],wo={class:"recorded-program__content-meta"},ko={key:0,class:"recorded-program__content-meta-broadcaster"},$o=["src"],Vo={class:"recorded-program__content-meta-broadcaster-name"},Co={key:1,class:"recorded-program__content-meta-broadcaster"},Mo={class:"recorded-program__content-meta-time"},So=["innerHTML"],xo={key:0,width:"22px",height:"22px",viewBox:"0 0 16 16"},Do={key:0,width:"22px",height:"22px",viewBox:"0 0 16 16"},Ho={key:1,width:"22px",height:"22px",viewBox:"0 0 15.2 15.2"},zo={class:"recorded-program__menu"},Ro={class:"delete-confirmation__file-path mb-4"},Bo=N({__name:"RecordedProgram",props:{program:{},forMylist:{type:Boolean,default:!1},forWatchedHistory:{type:Boolean,default:!1}},emits:["deleted"],setup(p,{emit:i}){const s=p,g=i,f=z(!1),_=z(!1),d=()=>{window.location.href=`${S.api_base_url}/videos/${s.program.id}/download`},R=async()=>{k.success("メタデータの再解析を開始します。完了までしばらくお待ちください。"),await E.reanalyzeVideo(s.program.id)===!0&&k.success("メタデータの再解析が完了しました。")},U=async(t=!1)=>{k.success("サムネイルの再作成を開始しました。完了までしばらくお待ちください。"),await E.regenerateThumbnail(s.program.id,t)===!0&&k.success("サムネイルの再作成が完了しました。")},h=le(),Y=()=>{h.settings.mylist.some(o=>o.type==="RecordedProgram"&&o.id===s.program.id)?(h.settings.mylist=h.settings.mylist.filter(o=>!(o.type==="RecordedProgram"&&o.id===s.program.id)),k.show("マイリストから削除しました。")):(h.settings.mylist.push({type:"RecordedProgram",id:s.program.id,created_at:S.time()}),k.success("マイリストに追加しました。"))},B=J(()=>h.settings.mylist.some(t=>t.type==="RecordedProgram"&&t.id===s.program.id)),j=J(()=>h.settings.watched_history.find(t=>t.video_id===s.program.id)),I=()=>{h.settings.watched_history=h.settings.watched_history.filter(t=>t.video_id!==s.program.id),k.show("視聴履歴から削除しました。")},c=()=>{const t=ue();if(t.user===null||t.user.is_admin===!1){k.warning(`録画ファイルを削除するには管理者権限が必要です。
管理者アカウントでログインし直してください。`);return}_.value=!0},n=async()=>{_.value=!1,k.info("録画ファイルの削除を開始します。完了までしばらくお待ちください。"),await E.deleteVideo(s.program.id)===!0&&(k.success("録画ファイルを削除しました。"),g("deleted",s.program.id))};return(t,o)=>{const v=W("Icon"),C=W("router-link"),$=de("ftooltip");return a(),m(T,null,[V((a(),F(C,{class:O(["recorded-program",{"recorded-program--recording":t.program.recorded_video.status==="Recording","recorded-program--analyzing":!t.program.recorded_video.has_key_frames}]),to:t.program.recorded_video.status==="Recording"||!t.program.recorded_video.has_key_frames?{path:""}:`/videos/watch/${t.program.id}`},{default:l(()=>[e("div",uo,[e("div",mo,[e("img",{class:"recorded-program__thumbnail-image",loading:"lazy",decoding:"async",src:`${w(S).api_base_url}/videos/${t.program.id}/thumbnail`},null,8,co),e("div",_o,u(w(L).getProgramDuration(t.program)),1),t.program.recorded_video.cm_sections!==null&&t.program.recorded_video.cm_sections.length!==0?(a(),m("div",po,"CM ")):M("",!0),t.program.recorded_video.status==="Recording"?(a(),m("div",vo,o[10]||(o[10]=[e("div",{class:"recorded-program__thumbnail-status-dot"},null,-1),b(" 録画中 ",-1)]))):t.program.recorded_video.has_key_frames?t.program.is_partially_recorded?(a(),m("div",fo," ⚠️ 一部のみ録画 ")):M("",!0):(a(),m("div",go,[r(v,{icon:"fluent:clock-12-regular",width:"15px",height:"15px"}),o[11]||(o[11]=b(" メタデータ解析中 ",-1))])),j.value?(a(),m("div",ho,[e("div",{class:"recorded-program__thumbnail-progress-bar",style:ae(`width: ${j.value.last_playback_position/t.program.recorded_video.duration*100}%`)},null,4)])):M("",!0)]),e("div",yo,[e("div",{class:"recorded-program__content-title",innerHTML:w(L).decorateProgramInfo(t.program,"title")},null,8,bo),e("div",wo,[t.program.channel?(a(),m("div",ko,[e("img",{class:"recorded-program__content-meta-broadcaster-icon",loading:"lazy",decoding:"async",src:`${w(S).api_base_url}/channels/${t.program.channel.id}/logo`},null,8,$o),e("span",Vo,"Ch: "+u(t.program.channel.channel_number)+" "+u(t.program.channel.name),1)])):(a(),m("div",Co,o[12]||(o[12]=[e("span",{class:"recorded-program__content-meta-broadcaster-name"},"チャンネル情報なし",-1)]))),e("div",Mo,u(w(L).getProgramTime(t.program)),1)]),e("div",{class:"recorded-program__content-description",innerHTML:w(L).decorateProgramInfo(t.program,"description")},null,8,So)]),t.forWatchedHistory?M("",!0):V((a(),m("div",{key:0,class:O(["recorded-program__mylist",{"recorded-program__mylist--highlight":B.value&&!t.forMylist}]),onClick:x(Y,["prevent","stop"]),onMousedown:o[0]||(o[0]=x(()=>{},["prevent","stop"]))},[t.forMylist?(a(),m("svg",xo,o[13]||(o[13]=[e("path",{fill:"currentColor",d:"M7 3h2a1 1 0 0 0-2 0M6 3a2 2 0 1 1 4 0h4a.5.5 0 0 1 0 1h-.564l-1.205 8.838A2.5 2.5 0 0 1 9.754 15H6.246a2.5 2.5 0 0 1-2.477-2.162L2.564 4H2a.5.5 0 0 1 0-1zm1 3.5a.5.5 0 0 0-1 0v5a.5.5 0 0 0 1 0zM9.5 6a.5.5 0 0 0-.5.5v5a.5.5 0 0 0 1 0v-5a.5.5 0 0 0-.5-.5"},null,-1)]))):(a(),m(T,{key:1},[B.value?(a(),m("svg",Do,o[14]||(o[14]=[e("path",{fill:"currentColor",d:"M14.046 3.486a.75.75 0 0 1-.032 1.06l-7.93 7.474a.85.85 0 0 1-1.188-.022l-2.68-2.72a.75.75 0 1 1 1.068-1.053l2.234 2.267l7.468-7.038a.75.75 0 0 1 1.06.032"},null,-1)]))):(a(),m("svg",Ho,o[15]||(o[15]=[e("path",{fill:"currentColor",d:"M8 2.5a.5.5 0 0 0-1 0V7H2.5a.5.5 0 0 0 0 1H7v4.5a.5.5 0 0 0 1 0V8h4.5a.5.5 0 0 0 0-1H8z"},null,-1)])))],64))],34)),[[P],[$,B.value?"マイリストから削除する":"マイリストに追加する"]]),t.forWatchedHistory?V((a(),m("div",{key:1,class:"recorded-program__mylist",onClick:x(I,["prevent","stop"]),onMousedown:o[1]||(o[1]=x(()=>{},["prevent","stop"]))},o[16]||(o[16]=[e("svg",{width:"22px",height:"22px",viewBox:"0 0 16 16"},[e("path",{fill:"currentColor",d:"M7 3h2a1 1 0 0 0-2 0M6 3a2 2 0 1 1 4 0h4a.5.5 0 0 1 0 1h-.564l-1.205 8.838A2.5 2.5 0 0 1 9.754 15H6.246a2.5 2.5 0 0 1-2.477-2.162L2.564 4H2a.5.5 0 0 1 0-1zm1 3.5a.5.5 0 0 0-1 0v5a.5.5 0 0 0 1 0zM9.5 6a.5.5 0 0 0-.5.5v5a.5.5 0 0 0 1 0v-5a.5.5 0 0 0-.5-.5"})],-1)]),32)),[[P],[$,"視聴履歴から削除する"]]):M("",!0),e("div",zo,[r(pe,{location:"bottom end","close-on-content-click":!0},{activator:l(({props:y})=>[V((a(),m("div",ne({class:"recorded-program__menu-button"},y,{onClick:o[2]||(o[2]=x(()=>{},["prevent","stop"])),onMousedown:o[3]||(o[3]=x(()=>{},["prevent","stop"]))}),o[17]||(o[17]=[e("svg",{width:"19px",height:"19px",viewBox:"0 0 16 16"},[e("path",{fill:"currentColor",d:"M9.5 13a1.5 1.5 0 1 1-3 0a1.5 1.5 0 0 1 3 0m0-5a1.5 1.5 0 1 1-3 0a1.5 1.5 0 0 1 3 0m0-5a1.5 1.5 0 1 1-3 0a1.5 1.5 0 0 1 3 0"})],-1)]),16)),[[P]])]),default:l(()=>[r(_e,{density:"compact","bg-color":"background-lighten-1",class:"recorded-program__menu-list"},{default:l(()=>[r(D,{onClick:o[4]||(o[4]=y=>f.value=!0)},{prepend:l(()=>o[18]||(o[18]=[e("svg",{width:"20px",height:"20px",viewBox:"0 0 16 16"},[e("path",{fill:"currentColor",d:"M8.499 7.5a.5.5 0 1 0-1 0v3a.5.5 0 0 0 1 0zm.25-2a.749.749 0 1 1-1.499 0a.749.749 0 0 1 1.498 0M8 1a7 7 0 1 0 0 14A7 7 0 0 0 8 1M2 8a6 6 0 1 1 12 0A6 6 0 0 1 2 8"})],-1)])),default:l(()=>[r(H,{class:"ml-3"},{default:l(()=>o[19]||(o[19]=[b("録画ファイル情報を表示",-1)])),_:1,__:[19]})]),_:1}),r(D,{onClick:d,disabled:t.program.recorded_video.status==="Recording"},{prepend:l(()=>[r(v,{icon:"fluent:arrow-download-24-regular",width:"20px",height:"20px"})]),default:l(()=>[r(H,{class:"ml-3"},{default:l(()=>[b("録画ファイルをダウンロード ("+u(w(S).formatBytes(t.program.recorded_video.file_size))+")",1)]),_:1})]),_:1},8,["disabled"]),V((a(),F(D,{onClick:R},{prepend:l(()=>[r(v,{icon:"fluent:book-arrow-clockwise-20-regular",width:"20px",height:"20px"})]),default:l(()=>[r(H,{class:"ml-3"},{default:l(()=>o[20]||(o[20]=[b("メタデータを再解析",-1)])),_:1,__:[20]})]),_:1})),[[$,"再生時に必要な録画ファイル情報や番組情報などを解析し直します"]]),V((a(),F(D,{onClick:o[5]||(o[5]=y=>U(!0))},{prepend:l(()=>[r(v,{icon:"fluent:image-arrow-counterclockwise-24-regular",width:"20px",height:"20px"})]),default:l(()=>[r(H,{class:"ml-3"},{default:l(()=>o[21]||(o[21]=[b("サムネイルを更新",-1)])),_:1,__:[21]})]),_:1})),[[$,"既存のシークバー用サムネイルから代表サムネイルを選び直します 変更反映にはブラウザキャッシュの削除が必要です"]]),V((a(),F(D,{onClick:o[6]||(o[6]=y=>U(!1))},{prepend:l(()=>[r(v,{icon:"fluent:image-arrow-counterclockwise-24-regular",width:"20px",height:"20px"})]),default:l(()=>[r(H,{class:"ml-3"},{default:l(()=>o[22]||(o[22]=[b("サムネイルを再作成",-1)])),_:1,__:[22]})]),_:1})),[[$,"サムネイルを完全に作り直します（数分かかります） 変更反映にはブラウザキャッシュの削除が必要です"]]),r(ve),r(D,{onClick:c,disabled:t.program.recorded_video.status==="Recording",class:"recorded-program__menu-list-item--danger"},{prepend:l(()=>[r(v,{icon:"fluent:delete-24-regular",width:"20px",height:"20px"})]),default:l(()=>[r(H,{class:"ml-3"},{default:l(()=>o[23]||(o[23]=[b("録画ファイルを削除",-1)])),_:1,__:[23]})]),_:1},8,["disabled"])]),_:1})]),_:1})])])]),_:1},8,["to","class"])),[[P]]),r(no,{program:t.program,show:f.value,"onUpdate:show":o[7]||(o[7]=y=>f.value=y)},null,8,["program","show"]),r(X,{"max-width":"750",modelValue:_.value,"onUpdate:modelValue":o[9]||(o[9]=y=>_.value=y)},{default:l(()=>[r(Z,null,{default:l(()=>[r(ee,{class:"d-flex justify-center pt-6 font-weight-bold"},{default:l(()=>o[24]||(o[24]=[b("本当に録画ファイルを削除しますか？",-1)])),_:1,__:[24]}),r(me,{class:"pt-2 pb-0"},{default:l(()=>[e("div",Ro,u(t.program.recorded_video.file_path),1),o[25]||(o[25]=e("div",{class:"text-error-lighten-1 font-weight-bold"},[b(" この録画ファイルに関連するすべてのデータ (サムネイル / .ts.program.txt / .ts.err を含む) が削除されます。"),e("br"),b(" 元に戻すことはできません。本当に録画ファイルを削除しますか？ ")],-1))]),_:1,__:[25]}),r(ce,{class:"pt-4 px-6 pb-6"},{default:l(()=>[r(oe),r(K,{color:"text",variant:"text",onClick:o[8]||(o[8]=y=>_.value=!1)},{default:l(()=>[r(v,{icon:"fluent:dismiss-20-regular",width:"18px",height:"18px"}),o[26]||(o[26]=e("span",{class:"ml-1"},"キャンセル",-1))]),_:1,__:[26]}),r(K,{class:"px-3",color:"error",variant:"flat",onClick:n},{default:l(()=>[r(v,{icon:"fluent:delete-20-regular",width:"18px",height:"18px"}),o[27]||(o[27]=e("span",{class:"ml-1"},"録画ファイルを削除",-1))]),_:1,__:[27]})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}}),Ao=A(Bo,[["__scopeId","data-v-220db7ae"]]);export{jo as F,Ao as R};
